# AADS 심층 진단 및 진화 기획 보고서 (CEO 보고)

- **작성일**: 2026-02-28 KST
- **대상**: CEO
- **목적**: 현재 상태 정밀 진단, 경쟁 환경 분석, 목표 아키텍처 및 5단계 로드맵 제안

---

## 1. 현재 상태 정밀 진단 (Sprint 1~6 누적)

### 1.1 Sprint 누적 요약

| Sprint | 핵심 성과 | 상태 |
|--------|-----------|------|
| 1~2 | 인프라·모델 연동, 볼륨·백업·시큐리티 | ✅ 완료 |
| 3 | Next.js 대시보드, CICD, Docker, E2E 기반 | ✅ 완료 |
| 4 | 멀티테넌트, Stripe, Auth, SSL, 모니터링 | ✅ 완료 |
| 5 | 도메인·대시보드, 코드 저장소, Docker 배포, 결과 미리보기 | ✅ 완료 |
| 6 | 인터뷰→PRD→Ideation→Planning 파이프라인, E2E 8단계 | ✅ Phase C 완료 (일부 Task 보완 예정) |

### 1.2 E2E 테스트 결과 (Level 3)

- **실행**: `E2E_BYPASS_SECRET=local bash tests/e2e_level3_test.sh` (aads-core)
- **최종**: **8/8 Pass** (PRD 버그픽스 적용 후)
- **항목**: 프로젝트 생성 → 인터뷰 7단계 → PRD 생성 → Ideation → Planning(컨텍스트 체인) → 파이프라인 상태 → 게이트 수정지시 저장

**PRD 버그픽스 적용 내용**
- Anthropic 클라이언트 `timeout=300.0`(초), `full_prompt` 15000자 초과 시 축소, PRD 생성 모델 Opus→Sonnet, max_tokens 8192→4096.

### 1.3 미완료/보완 항목

- Task 6.9: `core.code_extractor` 모듈 생성 및 `/projects/{id}/files` 실제 추출 연동
- Task 6.11: `UserLayout.tsx`, `user/page.tsx` 등 사용자 전용 화면 분리
- 코드 실행·검증용 **샌드박스**, **자기수정 루프**, **프로젝트 메모리** 미구축

---

## 2. 경쟁 환경 분석

| 경쟁사 | 강점 | AADS 대비 |
|--------|------|-----------|
| **Lovable** | No-code→코드, 빠른 프로토타입 | 우리: 풀 라이프사이클(기획→배포), 멀티에이전트 |
| **Replit** | 브라우저 IDE + 실행 환경 | 우리: 온프레미스·클라우드 유연, 에이전트 오케스트레이션 |
| **Devin** | 단일 에이전트 코딩·실행 | 우리: 22개 역할 분리, 비용 Tier 라우팅 |
| **Cursor** | IDE 통합, 코드 생성 | 우리: 서버 사이드 파이프라인, 대시보드·프로젝트 메모리 |
| **MetaGPT** | 멀티에이전트 시퀀스 | 우리: LangGraph 기반 그래프, 실시간 상태·게이트 |

**차별화**: 아이디어→인터뷰→PRD→Ideation→Planning→코드생성→실행·검증→배포까지 **한 플랫폼 E2E** + **3-Tier 비용 최적화**.

---

## 3. 5개 핵심 엔진 정의

| # | 엔진 | 역할 | 현재 | 목표 |
|---|------|------|------|------|
| 1 | **코드생성** | PRD/스펙→실제 코드 산출 | 부분(Planning 등) | 통합 코드 생성 노드, 저장소 반영 |
| 2 | **샌드박스** | 코드 실행·테스트 격리 | 미구축 | E2B 등 격리 환경 연동 |
| 3 | **자기수정** | 실행 결과 기반 자동 수정 루프 | 미구축 | 실패 시 재시도/패치 자동화 |
| 4 | **도구연동** | 터미널·파일·API·Git | 부분 | 통합 도구 레이어 (LangGraph 툴 노드) |
| 5 | **프로젝트메모리** | 컨텍스트·결정·산출물 저장/검색 | Redis·DB 부분 | Qdrant 등 벡터 저장소로 장기 메모리 |

---

## 4. 목표 아키텍처 설계

- **오케스트레이션**: **LangGraph** — 상태 그래프, 조건 분기, 휴먼 게이트
- **실행 격리**: **E2B** (또는 동급 샌드박스) — 코드 실행·빌드·테스트
- **장기 메모리**: **Qdrant** — 프로젝트별 컨텍스트·스펙·결정 벡터 검색
- **기존 유지**: Supabase(DB·Auth·Realtime), Redis(세션·상태), Next.js 대시보드, 3-Tier AI 라우팅

**데이터 흐름**: 인터뷰→PRD→Ideation→Planning → [코드생성] → [샌드박스 실행] → [자기수정 루프] → [도구연동/Git·파일] → 배포; 전 단계에서 [프로젝트메모리] 읽기/쓰기.

---

## 5. 5단계 실행 로드맵 (Phase 1~5, 약 20주)

| Phase | 기간 | 목표 | 산출물 |
|-------|------|------|--------|
| **1** | 1~4주 | 코드생성 엔진 + 코드 추출 | `core.code_extractor`, `/projects/{id}/files` 실데이터, PRD→코드 노드 |
| **2** | 5~8주 | 샌드박스 연동 | E2B(또는 대안) 연동, 실행·빌드·테스트 노드 |
| **3** | 9~12주 | 자기수정 루프 | 실패 시 재시도/패치, 최대 N회 제한 정책 |
| **4** | 13~16주 | 도구연동 통합 | 터미널·파일·Git·API 통합 도구 레이어 |
| **5** | 17~20주 | 프로젝트메모리(Qdrant) | 벡터 저장·검색, 컨텍스트 주입 파이프라인 |

---

## 6. 리소스·리스크 분석

- **리소스**: 기존 3-Tier 비용 한도 유지, E2B·Qdrant 비용 모니터링 필요. 인력은 현재 구조 전제(추가 인력 시 Phase 단위 재검토).
- **리스크**:
  - 샌드박스 비용·레이턴시(Phase 2).
  - 자기수정 루프 무한/과도 반복(Phase 3, N회 상한 필수).
  - Qdrant 운영·스키마 변경(Phase 5).

---

## 7. 의사결정 요청 3건

1. **Phase 1 우선 확정**: 코드생성 엔진 + 코드 추출(Task 6.9 완료 수준)을 4주 내 완료로 진행해도 되는지 승인 요청.
2. **샌드박스 선택**: E2B 우선 검토 vs. 자체 Docker 격리 vs. 타 서비스 비교 — 1차 결정 시점(Phase 2 시작 전).
3. **Qdrant 도입 시점**: Phase 5 고정 vs. Phase 3~4에서 선행 PoC 진행 — 리소스와 우선순위에 따른 결정 요청.

---

## 8. 요약

- Sprint 1~6 누적 성과로 **인터뷰→PRD→Ideation→Planning** 파이프라인과 **E2E 8/8 Pass** 달성.
- 경쟁 대비 **풀 라이프사이클 + 멀티에이전트 + 비용 Tier** 차별화 유지.
- **5개 핵심 엔진**(코드생성·샌드박스·자기수정·도구연동·프로젝트메모리)과 **LangGraph + E2B + Qdrant** 목표 아키텍처로 진화 방향 확정.
- **5단계 20주 로드맵**과 **의사결정 3건**에 대한 CEO 승인을 요청함.
